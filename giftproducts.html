
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/productharsh.css">
       
    </head>
    <body>
    <div id="header"></div>
    <div id="body">
    
        <p1 id="htitle3"> 2435 Products</p1>
        <div id="harshsortandtitle">
        <p1 id="htitle">Gifts</p1><p1 id="htitle2"> 2435 Products</p1>

        <select name="sortharsh" id="harshsort" onchange="harshsort1()">
            <option value="harshatoz" id="harshsort3">SORT BY: A TO Z</option>
            <option value="harshztoa" id="harshsort3">SORT BY: Z TO A</option>
            <option value="harshltoh" id="harshsort3">PRICE: LOW TO HIGH</option>
            <option value="harshhtol" id="harshsort3">PRICE: HIGH TO LOW</option>
            <option value="harshdltoh" id="harshsort3">DISCOUNT: LOW TO HIGH</option>
            <option value="harshdhtol" id="harshsort3">DISCOUNT: HIGH TO LOW</option> TO LOW</option>
        </select>
    </div>
        <br>
        <br><br>
        <div id="harshcontainer">
        
        <div id="harshcat">
        <div id="harshcatcategories">
<p id="inputcatharsh">CATEGORIES</p>

<div id="line">
    
<div id="accesories">
    <p id="inputcatharsh">
<input type="checkbox" name="accesories" id="accesories">ACCESORIES(430)</p> 
</div>
<div id="accesories">
    <p id="inputcatharsh">
<input type="checkbox" name="accesories" id="accesories">CASUAL JACKET(60)</p> 
</div>
<div id="accesories">
    <p id="inputcatharsh">
<input type="checkbox" name="accesories" id="accesories">ETHNIIC WEAR(1,070)</p> 
</div>
<div id="accesories">
    <p id="inputcatharsh">
<input type="checkbox" name="accesories" id="accesories">INNET WEAR(420)</p> 
</div></div>
        </div>
        <div id="harshcatsubcategories">
            <p id="inputcatharsh">SUB-CATEGORIES</p>
            <div id="line">
            <div id="accesories">
                <p id="inputcatharsh">
            <input type="checkbox" name="accesories" id="accesories">BOTTOMWEAR(3)</p> 
            </div>
            <div id="accesories">
                <p id="inputcatharsh">
            <input type="checkbox" name="accesories" id="accesories">BOXER(49)</p> 
            </div>
            <div id="accesories">
                <p id="inputcatharsh">
            <input type="checkbox" name="accesories" id="accesories">BRIEFS(236)</p> 
            </div>
            <div id="accesories">
                <p id="inputcatharsh">
            <input type="checkbox" name="accesories" id="accesories">CAPS & HATS(31)</p> 
            </div>
        </div></div>
        
        <div id="harshcatbrands">
            <p id="inputcatharsh">BRANDS</p>
            <div id="line">
            <div id="accesories">
                <p id="inputcatharsh">
            <input type="checkbox" name="accesories" id="accesories">ADD-ON(40)</p> 
            </div>
            <div id="accesories">
                <p id="inputcatharsh">
            <input type="checkbox" name="accesories" id="accesories">ADIDAS(20)</p> 
            </div>
            <div id="accesories">
                <p id="inputcatharsh">
            <input type="checkbox" name="accesories" id="accesories">NIKE(24)</p> 
            </div>
            <div id="accesories">
                <p id="inputcatharsh">
            <input type="checkbox" name="accesories" id="accesories">ALLEN SOLLY(10)</p> 
            </div></div>
        </div>
        <div id="harshcatoffers">
            
            <p id="inputcatharsh">OFFERS</p>
 <div id="line">
            <div id="accesories">
                <p id="inputcatharsh">
            <input type="checkbox" name="accesories" id="accesories">FLAT 30% OFF(55)</p> 
            </div>
            <div id="accesories">
                <p id="inputcatharsh">
            <input type="checkbox" name="accesories" id="accesories">FLAT 25% OFF(73)</p> 
            </div>
            <div id="accesories">
                <p id="inputcatharsh">
            <input type="checkbox" name="accesories" id="accesories">FLAT 40% OFF(22)</p> 
            </div>
            <div id="accesories">
                <p id="inputcatharsh">
            <input type="checkbox" name="accesories" id="accesories">FLAT 50% OFF(906)</p> 
            </div></div>
        </div>
        <br>
        <button id="harshrefinesearch">REFINE SEARCH</button>
        </div>
        
<div id="harshmain">
    
</div>

</div>
</div>
<br><br><br>
<div id="footer">

</div>
    </body>
    </html>
        
<script type="module">
    import header from "./components/header.js";

let header_box=document.getElementById("header");
header_box.innerHTML=header();

let input=document.getElementById('search_btn');

input.addEventListener('click',()=>{
let input_value=document.getElementById('search_bar');
localStorage.setItem("search_value",JSON.stringify(input_value));
window.location.href="footer.html";
});

import footer from "./components/footer.js";

let footer_box=document.getElementById('footer');
footer_box.innerHTML=footer();

</script>
    <script >
        var data,res,harshnormal2,harsh1,harshhtol,harshltoh,harsh4;
    
        var hmain= document.getElementById("harshmain");
var count=0;
        fetchharsh1()
async function fetchharsh1(){
    try{
        var url="http://3.15.96.146/gifts"
 res=await fetch(url)
  data=  await res.json()
console.log(data)
harsh1=data
harsh4=harsh1;
harshnormal2=harsh4;
harshltoh=harsh4;
 harshhtol=harsh4;
harshappend(data,hmain)
    }
    catch(error){
        console.log(error)
    }
}
function harshsort1(){

var harshsort2=document.getElementById("harshsort")
if(harshsort2.value=="harshatoz"){
    count++;
    harshnormal2.sort(function (x, y) {
        let a = x.name.toUpperCase(),
        b = y.name.toUpperCase();
    return a == b ? 0 : a > b ? 1 : -1
    }); 
    harshappend(harshnormal2,hmain)
}
else if(harshsort2.value=="harshztoa"){
    count++;
    harshnormal2.sort(function (x, y) {
        let b = x.name.toUpperCase(),
        a = y.name.toUpperCase();
    return a == b ? 0 : a > b ? 1 : -1
    }); 
    harshappend(harshnormal2,hmain)
}

else if(harshsort2.value=="harshltoh"){
count++;
harshltoh.sort(function (x, y) {
    
   return x.price - y.price;
});


harshappend(data,hmain)
}
else if(harshsort2.value=="harshhtol")
{
count++;
harshhtol.sort(function (x, y) {
    
    return y.price - x.price;
});

harshappend(harshhtol,hmain)
}
else if(harshsort2.value=="harshdltoh"){
count++;
    harshltoh.sort(function (x, y) {
        
       return x.off - y.off;
   });


   harshappend(data,hmain)
}
else if(harshsort2.value=="harshdhtol")
{
    count++;
    harshhtol.sort(function (x, y) {
        
        return y.off - x.off;
    });
 
    harshappend(harshhtol,hmain)
}

}

console.log(harsh1,hmain)
if(count==0){
harshappend(harsh1,hmain)
}

  

function harshappend(data,hmain){
console.log(data)   
    hmain.innerHTML=null;
data.forEach((e)=>{
  // console.log(e)
    let div=document.createElement("div")
    div.id="harshdiv"

let harshimage=document.createElement("img")
harshimage.src=e.img;
harshimage.id="harshimage";

let harshtitle=document.createElement("p")
harshtitle.innerText=e.name;
harshtitle.id="harshtitle"
let harshdescription=document.createElement("p")
harshdescription.innerText=e.description;
harshdescription.id="harshdescription";

let harshprice=document.createElement("p1")
harshprice.innerText=`â‚¹${e.price}`;
harshprice.id="harshprice";


let harshprice2=document.createElement("p1")
harshprice2.innerText=e.strikeprice;

harshprice2.id="harshstrike";

let harshprice3=document.createElement("p1")
if(e.off==""){
harshprice3.innerText=null;
}
else{
harshprice3.innerText=`${e.off}% off`;
}
harshprice3.id="harshofftext";

let harshnewline=document.createElement("p")
harshnewline.innerText="";
div.onclick=function(){
    localStorage.setItem("data",JSON.stringify(e));
    window.location.href="mensProductPage.html"
}
div.append(harshimage,harshtitle,harshdescription,harshprice,harshprice2,harshprice3,harshnewline)

hmain.append(div)
})
}

    </script>